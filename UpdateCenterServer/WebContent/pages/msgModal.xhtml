<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	
	<h:form id="modalForm" style="margin: 8px;" > 
	<rich:modalPanel id="msgModal" 
					 width="500"
					 height="50" 
					 resizeable="false"
					 autosized="true">
		<f:facet name="header">
			<h:outputText id="modalCaption" value="#{xBean.modalDialog.caption}" />
		</f:facet>
		 
	 
		<f:facet name="controls">
            <h:panelGrid rendered="true">
            	<h:commandButton  action="#{xBean.modalOk}"  image="#{xBean.modalDialog.closeIconPath}" styleClass="hidelink" id="hidelink"   />
            </h:panelGrid>
        </f:facet>
 		
			<table cellpadding="0" cellspacing="0" style="width: 100%; padding-bottom: 8px;">
				<tr valign="middle">
				<td style="display: block; overflow: auto;">
				<pre>
					<h:outputText id="modalMsg" style="display: block; max-height: 360px; color:white; font-weight:bold; font-size:18px; "
								  value="#{xBean.modalDialog.errMsg} #{xBean.modalDialog.infoMsg} #{xBean.modalDialog.yesNoMsg}" 
								  escape="false"/>
				</pre>
				</td></tr>
			</table>	
			<center>
				<h:panelGrid columns="4" cellpadding="0" cellspacing="0">
					<h:commandButton id="btnReport" 
									   action="#{xBean.modalReport}" 
									   styleClass="button"
									   value="Report" 
									   rendered="#{xBean.modalDialog.reportMsg!= null}" />
					<h:commandButton id="btnOK" 
									   action="#{xBean.modalOk}" 
									   styleClass="button"
									   value="OK" 
									   rendered="#{xBean.modalDialog.errMsg != null || xBean.modalDialog.infoMsg != null}" />
					<h:commandButton id="btnYes" 
									   action="#{xBean.modalYes}"	
									   styleClass="button"
									   style="width : 100px;"
									   value="Yes" 
									   rendered="#{xBean.modalDialog.yesNoMsg != null}" 
									   onclick="javascript:Richfaces.showModalPanel('panelPr');startProgress();"/>
				    <rich:spacer width="15"/>
					<h:commandButton id="btnNo"
									   action="#{xBean.modalNo}" 
									   styleClass=" button"
									   style="width : 100px;"
									   value="No" 
									   rendered="#{xBean.modalDialog.yesNoMsg != null}" />	
	 				<a4j:commandButton id="btnCancel" 
	 								   action="#{xBean.modalDialogClear}"	
	 								   styleClass="button"		
									   value="Cancel" 
									   rendered="false" />			   				   
					<rich:componentControl for="msgModal" 
										   attachTo="btnOK,btnCancel,hidelink,btnYes,btnNo,btnReport" 
										   operation="hide" 
										   event="onclick" >
					</rich:componentControl>
				</h:panelGrid>
			</center>
	</rich:modalPanel>
	</h:form>
</ui:composition>